<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Riya's Birthday Surprise</title>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Dancing+Script:wght@700&family=Poppins:wght@300;600&display=swap" rel="stylesheet">

<style>
    /* RESET & CORE */
    body {
        min-height: 100vh;
        margin: 0;
        overflow: hidden;
        font-family: 'Poppins', sans-serif;
    }

    /* =========================================
       PHASE 1: PREMIUM GOLDEN ORBIT TIMER
       ========================================= */
    #intro-screen {
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100vh;
        z-index: 100;
        /* Premium Background: Deep Royal Purple to Pink Gradient */
        background: linear-gradient(135deg, #2c0b47 0%, #5b247a 50%, #d63384 100%);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        transition: transform 1.5s cubic-bezier(0.86, 0, 0.07, 1);
    }

    /* The Glassmorphism Container */
    .timer-container {
        position: relative;
        width: 220px;
        height: 220px;
        display: flex;
        justify-content: center;
        align-items: center;
        /* Frosted Glass Effect */
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(15px);
        border-radius: 50%;
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 0 50px rgba(0,0,0,0.3);
    }

    /* Rotating Golden Ring */
    .orbit-ring {
        position: absolute;
        width: 100%; height: 100%;
        border-radius: 50%;
        border: 3px solid transparent;
        border-top-color: #ffd700; /* Gold */
        border-right-color: #ffd700;
        animation: spin 1.5s linear infinite;
        box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
    }

    /* Reverse Inner Ring */
    .orbit-ring::before {
        content: "";
        position: absolute;
        top: 10px; left: 10px; right: 10px; bottom: 10px;
        border-radius: 50%;
        border: 2px solid transparent;
        border-bottom-color: rgba(255, 255, 255, 0.8);
        animation: spin 3s linear infinite reverse;
    }

    @keyframes spin { 100% { transform: rotate(360deg); } }

    /* The Countdown Number */
    .timer-count {
        font-family: 'Cinzel', serif;
        font-size: 100px;
        color: #fff;
        text-shadow: 0 0 20px rgba(255, 215, 0, 0.8);
        z-index: 2;
    }

    /* Text below timer */
    .loading-text {
        margin-top: 40px;
        color: rgba(255, 255, 255, 0.8);
        letter-spacing: 5px;
        font-size: 14px;
        text-transform: uppercase;
        animation: fadeText 2s infinite alternate;
    }
    @keyframes fadeText { from { opacity: 0.5; } to { opacity: 1; } }

    .slide-away { transform: translateY(-100%); }


    /* =========================================
       PHASE 2: DECORATIVE PAPER STAGE
       ========================================= */
    #main-container {
        position: absolute;
        top: 0; left: 0;
        width: 100%; height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        /* Cream Paper Background */
        background-color: #fdf6e3;
        opacity: 0;
        transition: opacity 1s ease 0.5s;
    }

    /* Grain Texture */
    #main-container::before {
        content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
        background-image: url('data:image/svg+xml;utf8,%3Csvg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"%3E%3Cfilter id="noiseFilter"%3E%3CfeTurbulence type="fractalNoise" baseFrequency="0.65" numOctaves="3" stitchTiles="stitch"/%3E%3C/filter%3E%3Crect width="100%25" height="100%25" filter="url(%23noiseFilter)" opacity="0.05"/%3E%3C/svg%3E');
        pointer-events: none; z-index: 0;
    }

    /* Decorative Frame */
    #frame-border {
        position: absolute; top: 20px; left: 20px; right: 20px; bottom: 20px;
        border: 2px dashed #d4af37; border-radius: 20px; pointer-events: none; z-index: 1;
        box-shadow: inset 0 0 50px rgba(212, 175, 55, 0.1);
    }
    .corner-decor { position: absolute; font-size: 30px; opacity: 0.6; }
    .top-left { top: 30px; left: 30px; transform: rotate(-45deg); }
    .top-right { top: 30px; right: 30px; transform: rotate(45deg); }
    .bottom-left { bottom: 30px; left: 30px; transform: rotate(-135deg); }
    .bottom-right { bottom: 30px; right: 30px; transform: rotate(135deg); }

    /* --- CAKE STAGE --- */
    #cake-stage {
        position: relative; z-index: 10;
        display: flex; flex-direction: column; align-items: center;
        transition: all 1s ease;
    }
    .emoji {
        font-size: 160px; filter: drop-shadow(0 15px 25px rgba(0,0,0,0.25));
        transition: transform 0.3s;
    }
    #knife-wrapper {
        position: absolute; top: -120px; right: 20%; cursor: pointer; z-index: 20;
        transition: all 0.5s ease; animation: floatKnife 2.5s ease-in-out infinite;
    }
    #knife-emoji { font-size: 120px; transform: rotate(-20deg); filter: drop-shadow(0 8px 15px rgba(0,0,0,0.2)); }
    #click-hint {
        position: absolute; top: 20px; left: -140px;
        font-family: 'Dancing Script', cursive; font-size: 24px; color: #d63384;
        transform: rotate(-10deg); background: #fff; padding: 5px 15px;
        border-radius: 20px; box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    #click-hint::after {
        content: "‚ûî"; position: absolute; right: -25px; top: 5px; font-family: Arial; color: #d63384;
    }
    @keyframes floatKnife { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }

    /* Actions */
    #whole-cake { animation: cakeBreathe 3s ease-in-out infinite; }
    @keyframes cakeBreathe { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.03); } }
    .chop { animation: chopMotion 0.4s forwards cubic-bezier(0.175, 0.885, 0.32, 1.275); }
    @keyframes chopMotion {
        0% { transform: translate(0,0) rotate(0deg); }
        50% { transform: translate(-40px, 160px) rotate(-60deg); }
        100% { transform: translate(-20px, 140px) rotate(-45deg); }
    }
    .vanish { animation: flyAway 1.5s forwards ease-in; }
    @keyframes flyAway { to { opacity: 0; transform: translate(100px, -400px) rotate(360deg); } }
    .poof { transform: scale(0.9); opacity: 0; transition: 0.3s; }


    /* --- STAR SURPRISE (TEXT ADJUSTED) --- */
    #star-note {
        position: absolute; z-index: 5; 
        /* Slightly larger container to fit text comfortably */
        width: 450px; height: 450px; 
        display: flex; justify-content: center; align-items: center;
        transform: scale(0); transition: transform 1s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .star-bg {
        width: 100%; height: 100%;
        clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
        background: #fff;
        background-image: radial-gradient(#ff9a9e 20%, transparent 20%), radial-gradient(#a18cd1 20%, transparent 20%);
        background-size: 20px 20px; background-position: 0 0, 10px 10px;
        box-shadow: inset 0 0 30px rgba(0,0,0,0.1);
        display: flex; justify-content: center; align-items: center;
        padding: 40px; /* Padding ensures text stays inside star */
    }
    #message {
        font-family: 'Dancing Script', cursive;
        font-size: 38px; /* Perfectly sized for the text */
        color: #d63384;
        opacity: 0;
        transform: translateY(20px);
        transition: all 1s ease 0.5s;
        text-align: center;
        line-height: 1.3;
        margin-top: 15px; /* Visual adjustment */
    }
    .show-msg { opacity: 1 !important; transform: translateY(0) !important; }

</style>
</head>
<body>

    <audio id="bg-music">
        <source src="music.mp3" type="audio/mpeg">
    </audio>

    <div id="intro-screen">
        <div class="timer-container">
            <div class="orbit-ring"></div>
            <div id="timer-num" class="timer-count">3</div>
        </div>
        <p class="loading-text">Loading...</p>
    </div>

    <div id="main-container">
        
        <div id="frame-border"></div>
        <div class="corner-decor top-left">üå∏</div>
        <div class="corner-decor top-right">üå∏</div>
        <div class="corner-decor bottom-left">üå∏</div>
        <div class="corner-decor bottom-right">üå∏</div>

        <div id="star-note">
            <div class="star-bg">
                <h1 id="message">Here a little<br>Surprise for you</h1>
            </div>
        </div>

        <div id="cake-stage">
            <div id="knife-wrapper" onclick="cutCake()">
                <div id="click-hint">Click me!</div>
                <div id="knife-emoji">üî™</div>
            </div>
            <div id="whole-cake" class="emoji">üéÇ</div>
            <div id="slice" class="emoji" style="position:absolute; top:80px; opacity:0; pointer-events:none;">üç∞</div>
        </div>

    </div>

<script>
    const timerNum = document.getElementById('timer-num');
    const introScreen = document.getElementById('intro-screen');
    const mainContainer = document.getElementById('main-container');
    const music = document.getElementById('bg-music');

    // --- COUNTDOWN LOGIC ---
    window.onload = () => {
        let count = 3;
        const interval = setInterval(() => {
            count--;
            if (count > 0) {
                timerNum.innerText = count;
            } else {
                clearInterval(interval);
                // Reveal Main Stage
                introScreen.classList.add('slide-away');
                mainContainer.style.opacity = "1";
            }
        }, 1000);
    };

    // --- CAKE & REDIRECT LOGIC ---
    function cutCake() {
        // Play Music
        music.volume = 0.6;
        try { music.play(); } catch(e) {}

        const knife = document.getElementById('knife-wrapper');
        const hint = document.getElementById('click-hint');
        const cake = document.getElementById('whole-cake');
        const slice = document.getElementById('slice');
        const star = document.getElementById('star-note');
        const msg = document.getElementById('message');
        const stage = document.getElementById('cake-stage');

        // Hide Hint
        hint.style.display = 'none';

        // Animate Knife
        knife.classList.add('chop');

        // Physics Sequence
        setTimeout(() => {
            cake.classList.add('poof');
            slice.style.opacity = '1';
            slice.classList.add('vanish');

            // Reveal Star
            setTimeout(() => {
                // Move cake stage out completely
                stage.style.opacity = '0';
                stage.style.pointerEvents = 'none';

                // Pop up star
                star.style.zIndex = '50';
                star.style.transform = 'scale(1.2) rotate(-5deg)';
                msg.classList.add('show-msg');
            }, 800);

        }, 300);

        // --- AUTO MOVE TO PAGE 2 ---
        // 7 seconds after clicking knife (enough time to read the note)
        setTimeout(() => {
            window.location.href = "page2.html";
        }, 7000);
    }
</script>

</body>
</html>
